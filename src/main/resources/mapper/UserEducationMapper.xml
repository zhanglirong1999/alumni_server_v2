<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.seu.alumni_server.dao.mapper.UserEducationMapper">
    <resultMap id="BaseResultMap" type="cn.edu.seu.alumni_server.dao.entity.UserEducation">
        <!--
          WARNING - @mbg.generated
        -->
        <result column="num" jdbcType="VARCHAR" property="num"/>
        <result column="openid" jdbcType="VARCHAR" property="openid"/>
        <result column="school" jdbcType="VARCHAR" property="school"/>
        <result column="background" jdbcType="VARCHAR" property="background"/>
        <result column="department" jdbcType="VARCHAR" property="department"/>
        <result column="profession" jdbcType="VARCHAR" property="profession"/>
        <result column="start_year" jdbcType="VARCHAR" property="startYear"/>
        <result column="end_year" jdbcType="VARCHAR" property="endYear"/>
    </resultMap>

    <select id="search" resultType="cn.edu.seu.alumni_server.controller.dto.EducationDTO">
select id,a.openid,school,background,department,profession,c.start_year,c.end_year
    from user a,user_info b,user_education c,user_work d
    where  a.openid=b.openid and a.openid = c.openid and a.openid=d.openid
    and
    (
    b.real_name like "%${content}%" or
    c.school like "%${content}%" or
    b.city like "%${content}%" or
    d.company like "%${content}%" or
    d.job like "%${content}%"
    )
    limit #{page},#{limit}
  </select>
</mapper>